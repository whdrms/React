/*!
 * Knockout JavaScript library v0.1.3
 * (c) Steven Sanderson - http://danielearwicker.github.io/kor/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(r){var A=this||(0,eval)("this"),E=A.JSON;(function(g){"function"===typeof define&&define.amd?define(["exports","require"],g):"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?g(module.exports||exports):g(A.kor={})})(function(g){function B(a,b){return null===a||typeof a in I?a===b:!1}function A(a,b){var d;return function(){d||(d=setTimeout(function(){d=r;a()},b))}}function J(a,b){var d;return function(){clearTimeout(d);d=setTimeout(a,b)}}function K(){}var a=
"undefined"!==typeof g?g:{};a.b=function(c,b){for(var d=c.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=b};a.e=function(a,b,d){a[b]=d};a.version="0.1.3";a.b("version",a.version);a.a=function(){function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a,b){a.__proto__=b;return a}var d={__proto__:[]}instanceof Array;return{A:function(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)},j:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,
b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},W:function(b,c){var d=a.a.j(b,c);0<d?b.splice(d,1):0===d&&b.shift()},B:d,extend:c,J:b,K:d?b:c,m:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},ja:function(b){return a.l(b)?b():b},ua:function(b){return a.l(b)?b.h():b}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.A);a.b("utils.arrayIndexOf",a.a.j);a.b("utils.arrayRemoveItem",a.a.W);a.b("utils.extend",a.a.extend);a.b("utils.peekObservable",a.a.ua);a.b("utils.unwrapObservable",
a.a.ja);a.b("utils.objectForEach",a.a.m);a.b("unwrap",a.a.ja);Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return b.apply(a,e)}});a.M={throttle:function(c,b){c.throttleEvaluation=b;var d=null;return a.I({read:c,write:function(a){clearTimeout(d);d=setTimeout(function(){c(a)},b)}})},rateLimit:function(a,
b){var d,e,f;"number"==typeof b?d=b:(d=b.timeout,e=b.method);f="notifyWhenChangesStop"==e?J:A;a.Q(function(a){return f(a,d)})},notify:function(a,b){a.equalityComparer="always"==b?null:B}};var I={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.M);a.ha=function(c,b,d){this.r=c;this.L=b;this.na=d;this.ca=!1;a.e(this,"dispose",this.d)};a.ha.prototype.d=function(){this.ca=!0;this.na()};a.n=function(){a.a.K(this,a.n.fn);this.f={};this.V=1};g={i:function(c,b,d){var e=this;d=d||"change";var f=
new a.ha(e,b?c.bind(b):c,function(){a.a.W(e.f[d],f);e.w&&e.w(d)});e.t&&e.t(d);e.f[d]||(e.f[d]=[]);e.f[d].push(f);return f},notifySubscribers:function(c,b){b=b||"change";"change"===b&&this.ka();if(this.H(b))try{a.k.X();for(var d=this.f[b].slice(0),e=0,f;f=d[e];++e)f.ca||f.L(c)}finally{a.k.end()}},G:function(){return this.V},pa:function(a){return this.G()!==a},ka:function(){++this.V},Q:function(c){var b=this,d=a.l(b),e,f,k;b.v||(b.v=b.notifySubscribers,b.notifySubscribers=function(a,c){c&&"change"!==
c?"beforeChange"===c?b.T(a):b.v(a,c):b.U(a)});var p=c(function(){d&&k===b&&(k=b());e=!1;b.O(f,k)&&b.v(f=k)});b.U=function(a){e=!0;k=a;p()};b.T=function(a){e||(f=a,b.v(a,"beforeChange"))}},H:function(a){return this.f[a]&&this.f[a].length},ba:function(c){if(c)return this.f[c]&&this.f[c].length||0;var b=0;a.a.m(this.f,function(a,c){b+=c.length});return b},O:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(c){var b=this;c&&a.a.m(c,function(c,e){var f=a.M[c];"function"==
typeof f&&(b=f(b,e)||b)});return b}};a.e(g,"subscribe",g.i);a.e(g,"extend",g.extend);a.e(g,"getSubscriptionsCount",g.ba);a.a.B&&a.a.J(g,Function.prototype);a.n.fn=g;a.ea=function(a){return null!=a&&"function"==typeof a.i&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.n);a.b("isSubscribable",a.ea);a.D=a.k=function(){function c(a){d.push(e);e=a}function b(){e=d.pop()}var d=[],e,f=0;return{X:c,end:b,ga:function(b){if(e){if(!a.ea(b))throw Error("Only subscribable things can act as dependencies");
e.L(b,b.la||(b.la=++f))}},ra:function(a,d,e){try{return c(),a.apply(d,e||[])}finally{b()}},F:function(){if(e)return e.C.F()},P:function(){if(e)return e.P}}}();a.b("computedContext",a.D);a.b("computedContext.getDependenciesCount",a.D.F);a.b("computedContext.isInitial",a.D.P);a.b("computedContext.isSleeping",a.D.Ca);a.b("ignoreDependencies",a.Ba=a.k.ra);a.c=function(c){function b(){if(0<arguments.length)return b.O(d,arguments[0])&&(b.p(),d=arguments[0],b.o()),this;a.k.ga(b);return d}var d=c;a.n.call(b);
a.a.K(b,a.c.fn);b.h=function(){return d};b.o=function(){b.notifySubscribers(d)};b.p=function(){b.notifySubscribers(d,"beforeChange")};a.e(b,"peek",b.h);a.e(b,"valueHasMutated",b.o);a.e(b,"valueWillMutate",b.p);return b};a.c.fn={equalityComparer:B};var x=a.c.va="__ko_proto__";a.c.fn[x]=a.c;a.a.B&&a.a.J(a.c.fn,a.n.fn);a.N=function(c,b){return null===c||c===r||c[x]===r?!1:c[x]===b?!0:a.N(c[x],b)};a.l=function(c){return a.N(c,a.c)};a.fa=function(c){return"function"==typeof c&&c[x]===a.c||"function"==
typeof c&&c[x]===a.g&&c.qa?!0:!1};a.b("observable",a.c);a.b("isObservable",a.l);a.b("isWriteableObservable",a.fa);a.b("isWritableObservable",a.fa);a.q=function(c){c=c||[];if("object"!=typeof c||!("length"in c))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");c=a.c(c);a.a.K(c,a.q.fn);return c.extend({trackArrayChanges:!0})};a.q.fn={remove:function(c){for(var b=this.h(),d=[],e="function"!=typeof c||a.l(c)?function(a){return a===c}:c,f=
0;f<b.length;f++){var k=b[f];e(k)&&(0===d.length&&this.p(),d.push(k),b.splice(f,1),f--)}d.length&&this.o();return d},removeAll:function(c){if(c===r){var b=this.h(),d=b.slice(0);this.p();b.splice(0,b.length);this.o();return d}return c?this.remove(function(b){return 0<=a.a.j(c,b)}):[]},destroy:function(c){var b=this.h(),d="function"!=typeof c||a.l(c)?function(a){return a===c}:c;this.p();for(var e=b.length-1;0<=e;e--)d(b[e])&&(b[e]._destroy=!0);this.o()},destroyAll:function(c){return c===r?this.destroy(function(){return!0}):
c?this.destroy(function(b){return 0<=a.a.j(c,b)}):[]},indexOf:function(c){var b=this();return a.a.j(b,c)},replace:function(a,b){var d=this.indexOf(a);0<=d&&(this.p(),this.h()[d]=b,this.o())}};a.a.A("pop push reverse shift sort splice unshift".split(" "),function(c){a.q.fn[c]=function(){var a=this.h();this.p();this.Y(a,c,arguments);a=a[c].apply(a,arguments);this.o();return a}});a.a.A(["slice"],function(c){a.q.fn[c]=function(){var a=this();return a[c].apply(a,arguments)}});a.a.B&&a.a.J(a.q.fn,a.c.fn);
a.b("observableArray",a.q);a.M.trackArrayChanges=function(c){function b(){if(!d){d=!0;var b=c.notifySubscribers;c.notifySubscribers=function(a,c){c&&"change"!==c||++k;return b.apply(this,arguments)};var n=[].concat(c.h()||[]);e=null;f=c.i(function(b){b=[].concat(b||[]);if(c.H("arrayChange")){var d;if(!e||1<k)e=a.a.Z(n,b,{sparse:!0});d=e}n=b;e=null;k=0;d&&d.length&&c.notifySubscribers(d,"arrayChange")})}}if(!c.Y){var d=!1,e=null,f,k=0,p=c.t,q=c.w;c.t=function(a){p&&p.call(c,a);"arrayChange"===a&&b()};
c.w=function(a){q&&q.call(c,a);"arrayChange"!==a||c.H("arrayChange")||(f.d(),d=!1)};c.Y=function(b,c,f){function p(a,b,c){return q[q.length]={status:a,value:b,index:c}}if(d&&!k){var q=[],m=b.length,g=f.length,t=0;switch(c){case "push":t=m;case "unshift":for(c=0;c<g;c++)p("added",f[c],t+c);break;case "pop":t=m-1;case "shift":m&&p("deleted",b[t],t);break;case "splice":c=Math.min(Math.max(0,0>f[0]?m+f[0]:f[0]),m);for(var m=1===g?m:Math.min(c+(f[1]||0),m),g=c+g-2,t=Math.max(m,g),y=[],v=[],r=2;c<t;++c,
++r)c<m&&v.push(p("deleted",b[c],c)),c<g&&y.push(p("added",f[r],c));a.a.aa(v,y);break;default:return}e=q}}}};a.C=a.g=function(c,b,d){function e(a,b,c){if(A&&b===h)throw Error("A 'pure' computed must not be called recursively");u[a]=c;c.u=z++;c.s=b.G()}function f(){var a,b;for(a in u)if(u.hasOwnProperty(a)&&(b=u[a],b.r.pa(b.s)))return!0}function k(){!w&&u&&a.a.m(u,function(a,b){b.d&&b.d()});u=null;z=0;y=!0;w=m=!1}function p(){var a=h.throttleEvaluation;a&&0<=a?(clearTimeout(H),H=setTimeout(function(){q(!0)},
a)):h.S?h.S():q(!0)}function q(c){if(!x&&!y){if(F&&F()){if(!t){D();return}}else t=!1;x=!0;try{var d=u,f=z,k=A?r:!z;a.k.X({L:function(a,b){y||(f&&d[b]?(e(b,a,d[b]),delete d[b],--f):u[b]||e(b,a,w?{r:a}:a.i(p)))},C:h,P:k});u={};z=0;try{var q=b?v.call(b):v()}finally{a.k.end(),f&&!w&&a.a.m(d,function(a,b){b.d&&b.d()}),m=!1}h.O(s,q)&&(w||l(s,"beforeChange"),s=q,w?h.ka():c&&l(s));k&&l(s,"awake")}finally{x=!1}z||D()}}function h(){if(0<arguments.length){if("function"===typeof B)B.apply(b,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");
return this}a.k.ga(h);(m||w&&f())&&q();return s}function n(){(m&&!z||w&&f())&&q();return s}function g(){return m||0<z}function l(a,b){h.notifySubscribers(a,b)}var s,m=!0,x=!1,t=!1,y=!1,v=c,A=!1,w=!1;v&&"object"==typeof v?(d=v,v=d.read):(d=d||{},v||(v=d.read));if("function"!=typeof v)throw Error("Pass a function that returns the value of the ko.computed");var B=d.write,C=d.disposeWhenNodeIsRemoved||d.za||null,G=d.disposeWhen||d.ya,F=G,D=k,u={},z=0,H=null;b||(b=d.owner);a.n.call(h);a.a.K(h,a.g.fn);
h.h=n;h.F=function(){return z};h.qa="function"===typeof B;h.d=function(){D()};h.sa=g;var E=h.Q;h.Q=function(a){E.call(h,a);h.S=function(){h.T(s);m=!0;h.U(h)}};d.pure?(w=A=!0,h.t=function(b){if(!y&&w&&"change"==b){w=!1;if(m||f())u=null,z=0,m=!0,q();else{var c=[];a.a.m(u,function(a,b){c[b.u]=a});a.a.A(c,function(a,b){var c=u[a],d=c.r.i(p);d.u=b;d.s=c.s;u[a]=d})}y||l(s,"awake")}},h.w=function(b){y||"change"!=b||h.H("change")||(a.a.m(u,function(a,b){b.d&&(u[a]={r:b.r,u:b.u,s:b.s},b.d())}),w=!0,l(r,"asleep"))},
h.ma=h.G,h.G=function(){w&&(m||f())&&q();return h.ma()}):d.deferEvaluation&&(h.t=function(a){"change"!=a&&"beforeChange"!=a||n()});a.e(h,"peek",h.h);a.e(h,"dispose",h.d);a.e(h,"isActive",h.sa);a.e(h,"getDependenciesCount",h.F);C&&(t=!0,C.nodeType&&(F=function(){return!a.a.Aa(C)||G&&G()}));w||d.deferEvaluation||q();C&&g()&&C.nodeType&&(D=function(){a.a.oa.Da(C,D);k()},a.a.oa.xa(C,D));return h};a.ta=function(c){return a.N(c,a.g)};g=a.c.va;a.g[g]=a.c;a.g.fn={equalityComparer:B};a.g.fn[g]=a.g;a.a.B&&
a.a.J(a.g.fn,a.n.fn);a.b("dependentObservable",a.g);a.b("computed",a.g);a.b("isComputed",a.ta);a.I=function(c,b){var d;d=c;"function"===typeof d?d=a.C(d,b,{pure:!0}):(d=a.a.extend({},d),d.pure=!0,d=a.C(d,b));d.__execute_isPureComputed__=!0;return d};a.da=function(a){return!(!a||!a.__execute_isPureComputed__)};a.b("pureComputed",a.I);a.b("isPureComputed",a.da);(function(){function c(a,f,k){k=k||new d;a=f(a);if("object"!=typeof a||null===a||a===r||a instanceof Date||a instanceof String||a instanceof
Number||a instanceof Boolean)return a;var p=a instanceof Array?[]:{};k.save(a,p);b(a,function(b){var d=f(a[b]);switch(typeof d){case "boolean":case "number":case "string":case "function":p[b]=d;break;case "object":case "undefined":var g=k.get(d);p[b]=g!==r?g:c(d,f,k)}});return p}function b(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.R=[]}a.ia=function(b){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");
return c(b,function(b){for(var c=0;a.l(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ia(b);return E.stringify(b,c,d)};d.prototype={save:function(b,c){var d=a.a.j(this.keys,b);0<=d?this.R[d]=c:(this.keys.push(b),this.R.push(c))},get:function(b){b=a.a.j(this.keys,b);return 0<=b?this.R[b]:r}}})();a.b("toJS",a.ia);a.b("toJSON",a.toJSON);a.a.aa=function(a,b,d){if(a.length&&b.length){var e,f,k,p,g;for(e=f=0;(!d||e<d)&&(p=a[f]);++f){for(k=0;g=b[k];++k)if(p.value===g.value){p.moved=g.index;
g.moved=p.index;b.splice(k,1);e=k=0;break}e+=k}}};a.a.Z=function(){function c(b,c,e,f,k){var g=Math.min,q=Math.max,h=[],n,r=b.length,l,s=c.length,m=s-r||1,x=r+s+1,t,y,v;for(n=0;n<=r;n++)for(y=t,h.push(t=[]),v=g(s,n+m),l=q(0,n-1);l<=v;l++)t[l]=l?n?b[n-1]===c[l-1]?y[l-1]:g(y[l]||x,t[l-1]||x)+1:l+1:n+1;g=[];q=[];m=[];n=r;for(l=s;n||l;)s=h[n][l]-1,l&&s===h[n][l-1]?q.push(g[g.length]={status:e,value:c[--l],index:l}):n&&s===h[n-1][l]?m.push(g[g.length]={status:f,value:b[--n],index:n}):(--l,--n,k.sparse||
g.push({status:"retained",value:c[l]}));a.a.aa(q,m,10*r);return g.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<=d.length?c(a,d,"added","deleted",e):c(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Z);a.$=function(c,b,d){function e(){g||(g=f.i(K))}if(!a.da(c))throw Error("ko.execute must be passed a ko.pureComputed");var f=a.I(b,d),g;0!==c.ba("change")&&e();c.i(e,null,"awake");c.i(function(){g&&(g.d(),g=null)},null,"asleep");
return f};a.wa=function(c,b){var d=a.c(b&&b.initialValue),e=0,f=a.I(d),g=b&&(b.errorValue||b.initialValue);a.$(f,function(){var a=c.call(b&&b[".thisArg"]),f=++e;a.then?a.then(function(a){f===e&&d(a)},function(){f===e&&d(g)}):d(a)});return f};a.b("execute",a.$);a.b("unpromise",a.wa)})})();})();
